Version 4
SHEET 1 3656 2564
WIRE 2464 1520 2464 1488
WIRE 2608 1520 2608 1488
WIRE 2464 1648 2464 1600
WIRE 2608 1648 2608 1600
WIRE 2208 1888 2016 1888
WIRE 2560 1888 2496 1888
WIRE 2688 1888 2640 1888
WIRE 2496 1904 2496 1888
WIRE 3232 1904 3072 1904
WIRE 2800 1920 2784 1920
WIRE 2976 1920 2880 1920
WIRE 2112 2000 2112 1968
WIRE 2016 2016 2016 1888
WIRE 2080 2016 2016 2016
WIRE 2592 2016 2592 1984
WIRE 3152 2016 3152 1984
WIRE 2208 2032 2208 1888
WIRE 2208 2032 2144 2032
WIRE 2400 2032 2208 2032
WIRE 2416 2032 2400 2032
WIRE 2496 2032 2496 1984
WIRE 2560 2032 2496 2032
WIRE 2880 2032 2880 2000
WIRE 3072 2032 3072 1904
WIRE 3120 2032 3072 2032
WIRE 1616 2048 1584 2048
WIRE 1728 2048 1696 2048
WIRE 1824 2048 1728 2048
WIRE 1920 2048 1824 2048
WIRE 1936 2048 1920 2048
WIRE 2080 2048 2016 2048
WIRE 2688 2048 2688 1888
WIRE 2688 2048 2624 2048
WIRE 2784 2048 2784 1920
WIRE 2784 2048 2768 2048
WIRE 2848 2048 2784 2048
WIRE 3232 2048 3232 1904
WIRE 3232 2048 3184 2048
WIRE 3248 2048 3232 2048
WIRE 3344 2048 3312 2048
WIRE 3472 2048 3344 2048
WIRE 736 2064 736 2016
WIRE 1824 2064 1824 2048
WIRE 2560 2064 2496 2064
WIRE 2976 2064 2976 1920
WIRE 2976 2064 2912 2064
WIRE 3120 2064 2976 2064
WIRE 1728 2080 1728 2048
WIRE 2208 2080 2208 2032
WIRE 2848 2080 2784 2080
WIRE 3344 2080 3344 2048
WIRE 2112 2096 2112 2064
WIRE 2400 2112 2400 2032
WIRE 2592 2112 2592 2080
WIRE 3152 2112 3152 2080
WIRE 2496 2128 2496 2064
WIRE 2880 2128 2880 2096
WIRE 2784 2144 2784 2080
WIRE 736 2176 736 2144
WIRE 1824 2176 1824 2144
WIRE 2208 2176 2208 2144
WIRE 2208 2176 1824 2176
WIRE 3344 2208 3344 2160
WIRE 1824 2256 1824 2176
WIRE 1920 2272 1920 2048
WIRE 1936 2272 1920 2272
WIRE 2016 2272 2000 2272
WIRE 2400 2272 2400 2192
WIRE 2416 2272 2400 2272
WIRE 2496 2272 2480 2272
WIRE 608 2320 608 2272
WIRE 736 2320 736 2272
WIRE 1728 2352 1728 2144
WIRE 1824 2352 1824 2336
WIRE 1920 2368 1920 2272
WIRE 1936 2368 1920 2368
WIRE 2016 2368 2016 2272
WIRE 2016 2368 2000 2368
WIRE 2400 2368 2400 2272
WIRE 2400 2368 2016 2368
WIRE 2416 2368 2400 2368
WIRE 2496 2368 2480 2368
WIRE 608 2432 608 2400
WIRE 736 2432 736 2400
FLAG 1728 2352 0
FLAG 2112 1968 vcc
IOPIN 2112 1968 In
FLAG 2112 2096 vee
IOPIN 2112 2096 In
FLAG 2880 2000 vcc
IOPIN 2880 2000 In
FLAG 2880 2128 vee
IOPIN 2880 2128 In
FLAG 2496 2128 0
FLAG 2592 1984 vcc
IOPIN 2592 1984 In
FLAG 2592 2112 vee
IOPIN 2592 2112 In
FLAG 2464 1488 vcc
IOPIN 2464 1488 In
FLAG 2608 1488 vee
IOPIN 2608 1488 In
FLAG 736 2432 0
FLAG 3152 2112 vee
IOPIN 3152 2112 In
FLAG 3152 1984 vcc
IOPIN 3152 1984 In
FLAG 3472 2048 out_meas
IOPIN 3472 2048 Out
FLAG 3344 2208 0
FLAG 2464 1648 0
FLAG 2608 1648 0
FLAG 2784 2144 0
FLAG 2496 2272 vcc
IOPIN 2496 2272 In
FLAG 2496 2368 vee
IOPIN 2496 2368 In
FLAG 1824 2352 0
FLAG 736 2176 0
FLAG 736 2016 Vtrig
IOPIN 736 2016 Out
FLAG 608 2432 0
FLAG 1312 1984 0
FLAG 1584 2048 vin
IOPIN 1584 2048 In
FLAG 1312 2064 vin
IOPIN 1312 2064 In
SYMBOL Opamps\\LT1885 2112 2032 R0
SYMATTR InstName U3
SYMBOL Opamps\\LT1885 2880 2064 R0
SYMATTR InstName U4
SYMBOL Opamps\\LT1885 2592 2048 R0
SYMATTR InstName U5
SYMBOL Opamps\\LT1885 3152 2048 R0
SYMATTR InstName U6
SYMBOL res 1712 2032 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL cap 1712 2080 R0
SYMATTR InstName C12
SYMATTR Value 100p
SYMBOL schottky 1936 2288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2000 2352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 2512 2016 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 2480 1888 R0
SYMATTR InstName R5
SYMATTR Value 9k1
SYMBOL res 2656 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName POT1
SYMATTR Value {rpot}
SYMBOL voltage 736 2304 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=100
SYMATTR InstName V2
SYMATTR Value SINE(0 {vinsin} 1meg 0u {1/100e-6} 0) TRIGGER V(VTRIG) > 1
SYMBOL cap 3312 2032 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 22µ
SYMBOL res 3328 2064 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL voltage 2464 1504 R0
WINDOW 123 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMATTR SpiceLine Rser=10m
SYMBOL voltage 2608 1616 M180
WINDOW 123 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 12
SYMATTR SpiceLine Rser=10m
SYMBOL res 2784 2032 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 2896 1904 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL schottky 2416 2288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2480 2352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 2384 2096 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL res 1808 2048 R0
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 1808 2240 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL cap 2192 2080 R0
SYMATTR InstName C1
SYMATTR Value 4µ7
SYMBOL voltage 736 2048 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(0 2 50)
SYMBOL res 2032 2032 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL voltage 608 2304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value SINE(0 15 60)
SYMBOL current 1312 1984 R0
WINDOW 123 24 108 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName I1
SYMATTR Value ""
TEXT 800 1840 Left 2 !;tran 0 {2/60} 0 100u
TEXT 1576 1992 Left 2 ;Flp = 15.9kHz
TEXT 800 1880 Left 2 !.ac oct 10 100m 100k
TEXT 992 1376 Left 2 ;SLUCAJ Overload: desni klik na SPICE directive vinsin i stavi 4000
TEXT 992 1568 Left 2 !.param vinsin=4k
TEXT 1472 1776 Left 2 ;ZASTITA i LOW PASS\n \nOtpornik treba da bude neki \nMELF otpornik zbog ogromne\nsnage koja se moze javiti kada \nse pojavi naponski impuls.
TEXT 992 1408 Left 2 ;SLUCAJ Normalan rad: desni klik na SPICE directive vinsin i stavi 5
TEXT 992 1536 Left 2 ;ULAZNI NAPON [V]
TEXT 2048 2408 Left 2 ;Obicne, low-cost diode, schotky. \nNe moraju da budu low-capacitance\njer one u normalnom radu "plivaju"\nsa signalom i nemaju nikakav uticaj.\nPotrebne su diode ja jakim udarnim\nstrujama.
TEXT 2608 2264 Left 2 ;Zastitni otpornik za U3 izlaz\nkada se pojavi burst na ulazu\npreko dioda D5 ili D6.\n \nR = Vdrop/Iout = 0.3V/30mA = 10ohm
TEXT 2424 1728 Left 2 ;Pojacavacki stepen:\n \nMIN: 9k1 / 10k = 0.91\nMAX: 11k1 / 10k = 1.11
TEXT 2720 1728 Left 2 ;Invertor da vrati prvobitnu\nfazu
TEXT 3056 1728 Left 2 ;Buffer
TEXT 3312 1984 Left 2 ;Fhp = 0.72Hz
TEXT 1328 2456 Left 2 ;Plivajuci otpornici. Imaju relativno\nnisku otpornost, ali zbog bootstrap\nveze imaju efektivnu otposnost od\noko 8Meg
TEXT 1984 1744 Left 2 ;Buffer sa plivajucim zastitnim\ndiodama i bootstrap ulaznim\notpornicima
TEXT 1568 1552 Left 2 ;Zastitni otpornik za U3 ulaz\nkada se pojavi burst na ulazu.\n \nR = 2*Vdrop/Iin = 2*0.3V/10mA = 60ohm
TEXT 872 1944 Left 2 !.param rpot 2k
LINE Normal 2448 2160 2592 2240
LINE Normal 2448 2160 2448 2160 2
LINE Normal 2448 2160 2448 2160 2
LINE Normal 1584 2432 1808 2208
LINE Normal 1952 1984 1760 1664
RECTANGLE Normal 1792 2176 1520 1968 2
